# =============================================================================
# Agent 365 Python Framework - Production Environment Template
# =============================================================================
# Copy this file to .env and fill in your values.
# Run: a365 develop get-token to get BEARER_TOKEN for local testing.
# =============================================================================

# MCP Platform
MCP_PLATFORM_ENDPOINT=https://agent365.svc.cloud.microsoft

# Agent Mode: dev or prod
# dev = No Teams chat history retrieval (for Playground testing)
# prod = Full Teams chat history retrieval (for real Teams deployment)
AGENT_MODE=prod

# Authentication Handler Configuration
# Set to "AGENTIC" for production agentic auth
AUTH_HANDLER_NAME=AGENTIC

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# LOG_LEVEL: DEBUG, INFO, WARNING, ERROR (default: INFO)
# AGENT_FRAMEWORK_LOG_LEVEL: Controls MCP tool call logging (DEBUG to see parameters)
LOG_LEVEL=INFO
AGENT_FRAMEWORK_LOG_LEVEL=DEBUG

# -----------------------------------------------------------------------------
# Observability Configuration
# -----------------------------------------------------------------------------
OBSERVABILITY_SERVICE_NAME=agent-framework-sample
OBSERVABILITY_SERVICE_NAMESPACE=agent-framework.samples
ENABLE_OBSERVABILITY=true
ENABLE_A365_OBSERVABILITY_EXPORTER=true
ENABLE_OTEL=true
ENABLE_SENSITIVE_DATA=true

# -----------------------------------------------------------------------------
# Bearer Token (for local development)
# -----------------------------------------------------------------------------
# Run: a365 develop get-token
# This will populate the token for local MCP testing
BEARER_TOKEN=

# -----------------------------------------------------------------------------
# Agent 365 Blueprint Authentication (Production)
# -----------------------------------------------------------------------------
# These are populated by: a365 setup
# Used for agentic token exchange in production
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__CLIENTID=
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__CLIENTSECRET=
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__TENANTID=
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__SCOPES=

AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__TYPE=AgenticUserAuthorization
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__SCOPES=https://graph.microsoft.com/.default
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__ALTERNATEBLUEPRINTCONNECTIONNAME=service_connection
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__ALT_BLUEPRINT_NAME=SERVICE_CONNECTION

CONNECTIONSMAP_0_SERVICEURL=*
CONNECTIONSMAP_0_CONNECTION=SERVICE_CONNECTION
CONNECTIONSMAP__0__SERVICEURL=*
CONNECTIONSMAP__0__CONNECTION=SERVICE_CONNECTION

# Agent ID (same as Blueprint Client ID)
AGENT_ID=

# Server Configuration
PORT=3978
USE_AGENTIC_AUTH=true

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration - Multi-Model Pool
# -----------------------------------------------------------------------------
# Configure multiple models for load balancing and failover.
# The router will automatically failover to next model on 429 errors.

# Model 1 (PRIMARY)
AZURE_OPENAI_MODEL_1_ENDPOINT=
AZURE_OPENAI_MODEL_1_DEPLOYMENT=
AZURE_OPENAI_MODEL_1_API_KEY=

# Model 2 (FALLBACK)
AZURE_OPENAI_MODEL_2_ENDPOINT=
AZURE_OPENAI_MODEL_2_DEPLOYMENT=
AZURE_OPENAI_MODEL_2_API_KEY=

# Common API version for all models
AZURE_OPENAI_API_VERSION=2024-05-01-preview

# -----------------------------------------------------------------------------
# Agent User Impersonation (Proactive Scenarios)
# -----------------------------------------------------------------------------
# For sending proactive messages as the agent's own identity.
# Get these from: a365 develop show

# Agent Identity Client ID (service principal from blueprint)
AGENT_IDENTITY_CLIENT_ID=

# Agent User (the agentic user that has mailbox, Teams, etc.)
AGENT_USER_UPN=
AGENT_USER_OBJECT_ID=

# Target user for testing proactive messages
TARGET_USER_EMAIL=

# Directory search target (for test_directory_search.py)
DIRECTORY_SEARCH_NAME=
